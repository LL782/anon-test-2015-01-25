define(["require"],function(e){"use strict";var t=!1,n=function(){if(t)return;r.identify(),t=!0},r={identify:function(){$(".mod").each(function(){var e=$(this),t=(e.data("mods")||"").split(","),n=0,i=t.length;for(n;n<i;n+=1){if(!t[n])continue;r.load(t[n],e)}})},load:function(t,n){e(["mods/"+t],function(e){if(!e)return;typeof e.init!==undefined&&e.init(n,n.data(t)||{})})}};return{init:n}});